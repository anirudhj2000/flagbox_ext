!function(){var e,n=0,t=0,o=0,i=0,l=!1;console.log("Button component loaded"),document.getElementById("main-button");var a=document.getElementById("rollout");null===(e=document.getElementById("main-button"))||void 0===e||e.addEventListener("click",(function(){console.log("abcd",a,null==a?void 0:a.style.animationName),!l&&a?(a.style.animationName="animate",a.style.animationDuration="2s",a.style.transform="translateX(0)"):l&&a&&(a.style.animationName="",a.style.transform="translateX(30vw)"),l=!l})),document.addEventListener("mousedown",(function(e){e.shiftKey&&(console.log("startDrawing",e),n=e.clientX,t=e.clientY,console.log("startDrawing",e,n,t))})),document.addEventListener("mouseup",(function(e){if(e.shiftKey){console.log("stopDrawing",e),o=e.clientX,i=e.clientY;var l=document.createElement("div");l.style.position="fixed",l.style.left=n+"px",l.style.top=t+"px",l.style.width=o-n+"px",l.style.height=i-t+"px",l.style.border="1px dashed #cc6262",l.style.zIndex="1202",l.style.backgroundColor="transparent",document.body.appendChild(l),console.log("stopDrawing",e,l)}}));var s=document.getElementById("capture-image");null==s||s.addEventListener("click",(function e(n){s.removeEventListener("click",e),console.log("capture-image",a),n.preventDefault(),chrome.runtime.sendMessage({type:"take_screenshot",x:0,y:0,width:window.innerWidth,height:window.innerHeight},(function(e){console.log("called"),console.log("pricess images called",e),e&&e.response&&function(e,n,t,o,i){console.log("processImage",e,0,0,o,i);var l=new Image;l.src=e,l.onload=function(){var e=document.createElement("canvas");e.width=o,e.height=i,e.getContext("2d").drawImage(l,0,0,window.innerWidth,window.innerHeight),e.toBlob((function(e){if(console.log("blob",e),e){var n=new File([e],"screenshot.jpeg",{type:"image/jpeg"});console.log("file upload check",n,e),chrome.runtime.sendMessage({type:"upload_document",blob:e})}}),"image/jpeg")}}(e.response,0,0,window.innerWidth,window.innerHeight)}))}),{once:!0})}();