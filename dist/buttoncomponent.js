!function(){var e,n=0,t=0,o=0,l=0,i=!1;console.log("Button component loaded"),document.getElementById("main-button");var c=document.getElementById("rollout");null===(e=document.getElementById("main-button"))||void 0===e||e.addEventListener("click",(function(){console.log("abcd",c,null==c?void 0:c.style.animationName),!i&&c?(c.style.animationName="animate",c.style.animationDuration="2s",c.style.transform="translateX(0)"):i&&c&&(c.style.animationName="",c.style.transform="translateX(30vw)"),i=!i})),document.addEventListener("mousedown",(function(e){e.shiftKey&&(console.log("startDrawing",e),n=e.clientX,t=e.clientY,console.log("startDrawing",e,n,t))})),document.addEventListener("mouseup",(function(e){if(e.shiftKey){console.log("stopDrawing",e),o=e.clientX,l=e.clientY;var i=document.createElement("div");i.style.position="fixed",i.style.left=n+"px",i.style.top=t+"px",i.style.width=o-n+"px",i.style.height=l-t+"px",i.style.border="1px dashed #cc6262",i.style.zIndex="1202",i.style.backgroundColor="transparent",document.body.appendChild(i),console.log("stopDrawing",e,i)}}));var a=document.getElementById("capture-image");null==a||a.addEventListener("click",(function e(n){a.removeEventListener("click",e),console.log("capture-image",c),n.preventDefault(),chrome.runtime.sendMessage({type:"take_screenshot",x:0,y:0,width:window.innerWidth,height:window.innerHeight},(function(e){console.log("called"),console.log("pricess images called",e),e&&e.response&&function(e,n,t,o,l){console.log("processImage",e,0,0,o,l);var i=new Image;i.src=e,i.onload=function(){var e=document.createElement("canvas");e.width=o,e.height=l,e.getContext("2d").drawImage(i,0,0,window.innerWidth,window.innerHeight),e.toBlob((function(e){if(console.log("blob",e),e){console.log("blob",e);try{var n=URL.createObjectURL(e),t=document.createElement("a");t.href=n,console.log("link",t),t.download="screenshot.png",document.body.appendChild(t),t.click(),console.log("link",t,"clicked"),document.body.removeChild(t),URL.revokeObjectURL(n)}catch(e){console.log("error",e)}}}),"image/png")}}(e.response,0,0,window.innerWidth,window.innerHeight)}))}),{once:!0})}();