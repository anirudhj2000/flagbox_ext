!function(){var e,n,o=0,t=0,l=0,i=0,a=!1;console.log("Button component loaded"),document.getElementById("main-button");var c=document.getElementById("rollout");null===(e=document.getElementById("main-button"))||void 0===e||e.addEventListener("click",(function(){console.log("abcd",c,null==c?void 0:c.style.animationName),!a&&c?(c.style.animationName="animate",c.style.animationDuration="2s",c.style.transform="translateX(0)"):a&&c&&(c.style.animationName="",c.style.transform="translateX(30vw)"),a=!a})),document.addEventListener("mousedown",(function(e){e.shiftKey&&(console.log("startDrawing",e),o=e.clientX,t=e.clientY,console.log("startDrawing",e,o,t))})),document.addEventListener("mouseup",(function(e){if(e.shiftKey){console.log("stopDrawing",e),l=e.clientX,i=e.clientY;var n=document.createElement("div");n.style.position="fixed",n.style.left=o+"px",n.style.top=t+"px",n.style.width=l-o+"px",n.style.height=i-t+"px",n.style.border="1px dashed yellow",n.style.zIndex="1202",n.style.backgroundColor="transparent",document.body.appendChild(n),console.log("stopDrawing",e,n)}})),null===(n=document.getElementById("capture-image"))||void 0===n||n.addEventListener("click",(function(){console.log("capture-image",c),chrome.runtime.sendMessage({type:"take_screenshot",x:0,y:0,width:window.innerWidth,height:window.innerHeight},(function(e){console.log("called"),console.log("pricess images called",e),e&&e.response&&(confirm("Image Captured"),function(e,n,o,t,l){console.log("processImage",e,0,0,t,l);var i=new Image;i.src=e,i.onload=function(){var e=document.createElement("canvas");e.width=t,e.height=l,e.getContext("2d").drawImage(i,0,0,window.innerWidth,window.innerHeight),e.toBlob((function(e){if(console.log("blob",e),e){console.log("blob",e);try{var n=URL.createObjectURL(e),o=document.createElement("a");o.href=n,console.log("link",o),o.download="screenshot.png",document.body.appendChild(o),o.click(),console.log("link",o,"clicked"),document.body.removeChild(o),URL.revokeObjectURL(n)}catch(e){console.log("error",e)}}}),"image/png")}}(e.response,0,0,window.innerWidth,window.innerHeight))}))}))}();